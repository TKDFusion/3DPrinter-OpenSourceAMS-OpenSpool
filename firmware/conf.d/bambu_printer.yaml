select:
  #TODO: printer model is currently unused, but will be needed for setting AMS type
  - platform: template
    name: Printer Model
    id: bambu_model
    options:
      - "A1Mini"
      - "A1"
      - "P1P/P1S"
      - "X1C/X1E"
    optimistic: true
    state_topic:
    icon: mdi:printer-3d
    web_server:
      sorting_group_id: sorting_group_printer_settings

text:
  - platform: template
    id: bambu_serial_number
    state_topic:
    name: Printer Serial Number
    optimistic: true
    mode: text
    restore_value: true
    icon: mdi:barcode
    web_server:
      sorting_group_id: sorting_group_printer_settings

  - platform: template
    id: bambu_lan_access_code
    state_topic:
    name: Printer Lan Access Code
    optimistic: true
    mode: password
    restore_value: true
    icon: mdi:lock
    web_server:
      sorting_group_id: sorting_group_printer_settings
    on_value:
      then:
        lambda: |-
          id(bambu_mqtt).set_password(x.c_str());

  - platform: template
    id: bambu_ip_address
    state_topic:
    name: Printer IP Address
    optimistic: true
    mode: text
    restore_value: true
    icon: mdi:ip
    web_server:
      sorting_group_id: sorting_group_printer_settings
    on_value:
      then:
        lambda: |-
          id(bambu_mqtt).set_broker_address(x.c_str());

button:
  - platform: restart
    name: "Restart OpenSpool"
    id: restart_openspool
    web_server:
      sorting_group_id: sorting_group_printer_settings
